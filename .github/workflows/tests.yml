# name: Tests

# on:
#   pull_request:
#     types: [opened, synchronize, reopened]
#   push:
#     branches:
#       - main

# jobs:
#   unit-tests:
#     name: Unit Tests
#     runs-on: ubuntu-latest
#     steps:
#       - name: Clone the code
#         uses: actions/checkout@v4

#       - name: Setup Go
#         uses: actions/setup-go@v5
#         with:
#           go-version-file: go.mod

#       - name: Running Unit Tests
#         run: |
#           go mod tidy
#           make test

#   e2e-tests:
#     name: E2E Tests
#     runs-on: ubuntu-latest
#     steps:
#       - name: Clone the code
#         uses: actions/checkout@v4

#       - name: Setup Go
#         uses: actions/setup-go@v5
#         with:
#           go-version-file: go.mod

#       - name: Install the latest version of kind
#         run: |
#           curl -Lo ./kind https://kind.sigs.k8s.io/dl/latest/kind-linux-amd64
#           chmod +x ./kind
#           sudo mv ./kind /usr/local/bin/kind

#       - name: Verify kind installation
#         run: kind version

#       - name: Running E2E Tests
#         run: |
#           go mod tidy
#           make test-e2e

#   docker-build:
#     name: Build and Push Docker Image
#     runs-on: ubuntu-latest
#     needs: [e2e-tests, unit-tests]
#     steps:
#       - name: Checkout code
#         uses: actions/checkout@v4

#       - name: Build and push Docker image
#         uses: docker/build-push-action@v5
#         with:
#           context: .
#           #platforms: linux/amd64,linux/arm64,linux/s390x,linux/ppc64le
#           platforms: linux/amd64
#           push: false
#           #cache-from: type=gha
#           #cache-to: type=gha,mode=max
